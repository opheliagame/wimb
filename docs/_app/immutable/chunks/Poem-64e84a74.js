import{S as F,i as G,s as H,l as z,r as P,a as N,m as A,n as S,u as V,h as D,c as O,p as w,O as b,b as J,M as k,P as Z,v as T,E as Y,N as x,Q as K,o as L,R as M,f as E,g as $,d as ee,t as q,T as te,w as ne,x as le,y as se,B as ie}from"./index-bf21310b.js";import{s as re}from"./chapter01-4e80f68d.js";function oe(n){let e,t,i,s,h,l,o,r,g,_,d,m,p;return{c(){e=z("div"),t=z("div"),i=P(n[0]),h=N(),l=z("div"),o=P(n[6]),g=N(),_=P(n[0]),this.h()},l(c){e=A(c,"DIV",{class:!0});var f=S(e);t=A(f,"DIV",{class:!0});var v=S(t);i=V(v,n[0]),v.forEach(D),h=O(f),l=A(f,"DIV",{class:!0});var u=S(l);o=V(u,n[6]),u.forEach(D),g=O(f),_=V(f,n[0]),f.forEach(D),this.h()},h(){w(t,"class",s=b(n[2]?"line flex hidden":"line flex")+" svelte-1lkizpv"),w(l,"class",r=b(n[2]?"word flex":"word flex hidden")+" svelte-1lkizpv"),w(e,"class",d=b(n[1]?"container flex hidden":n[0]==""?"container flex colored":"container flex")+" svelte-1lkizpv")},m(c,f){J(c,e,f),k(e,t),k(t,i),n[10](t),k(e,h),k(e,l),k(l,o),n[11](l),k(e,g),k(e,_),n[12](e),m||(p=Z(e,"click",n[7]),m=!0)},p(c,[f]){f&1&&T(i,c[0]),f&4&&s!==(s=b(c[2]?"line flex hidden":"line flex")+" svelte-1lkizpv")&&w(t,"class",s),f&4&&r!==(r=b(c[2]?"word flex":"word flex hidden")+" svelte-1lkizpv")&&w(l,"class",r),f&1&&T(_,c[0]),f&3&&d!==(d=b(c[1]?"container flex hidden":c[0]==""?"container flex colored":"container flex")+" svelte-1lkizpv")&&w(e,"class",d)},i:Y,o:Y,d(c){c&&D(e),n[10](null),n[11](null),n[12](null),m=!1,p()}}}function fe(n,e,t){let i;x(n,re,a=>t(13,i=a));const s=K();let{line:h,id:l,hidden:o,gridDiv:r}=e,g=h.split(" "),_=g[Math.floor(Math.random()*g.length)],d=!0,m,p,c;const f=()=>{h!=""&&(s("selected",{id:l}),d&&t(2,d=!d))};L(()=>{t(5,c.style.transform=(l-1)%2==0?"skewY(-20deg)":"skewY(20deg)",c),t(5,c.height=m.height,c);const a=i[Math.floor(Math.random()*i.length)];t(5,c.style["background-color"]=a.back,c),d==!0&&(t(3,m.style.color=a.front,m),t(4,p.style.color=a.front,p))});function v(a){M[a?"unshift":"push"](()=>{m=a,t(3,m)})}function u(a){M[a?"unshift":"push"](()=>{p=a,t(4,p)})}function y(a){M[a?"unshift":"push"](()=>{c=a,t(5,c)})}return n.$$set=a=>{"line"in a&&t(0,h=a.line),"id"in a&&t(8,l=a.id),"hidden"in a&&t(1,o=a.hidden),"gridDiv"in a&&t(9,r=a.gridDiv)},[h,o,d,m,p,c,_,f,l,r,v,u,y]}class ae extends F{constructor(e){super(),G(this,e,fe,oe,H,{line:0,id:8,hidden:1,gridDiv:9})}}function j(n,e,t){const i=n.slice();return i[13]=e[t],i[15]=t,i}function Q(n){let e,t;return e=new ae({props:{hidden:n[1][n[15]]&&!n[2][n[15]],gridDiv:n[3],line:n[13],id:n[15]+1}}),e.$on("selected",n[4]),{c(){ne(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,s){se(e,i,s),t=!0},p(i,s){const h={};s&6&&(h.hidden=i[1][i[15]]&&!i[2][i[15]]),s&8&&(h.gridDiv=i[3]),s&1&&(h.line=i[13]),e.$set(h)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){q(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function ce(n){let e,t,i=n[0],s=[];for(let l=0;l<i.length;l+=1)s[l]=Q(j(n,i,l));const h=l=>q(s[l],1,1,()=>{s[l]=null});return{c(){e=z("section");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=A(l,"SECTION",{class:!0});var o=S(e);for(let r=0;r<s.length;r+=1)s[r].l(o);o.forEach(D),this.h()},h(){w(e,"class","h-full w-full py-14 svelte-1i5nuaz")},m(l,o){J(l,e,o);for(let r=0;r<s.length;r+=1)s[r].m(e,null);n[6](e),t=!0},p(l,[o]){if(o&31){i=l[0];let r;for(r=0;r<i.length;r+=1){const g=j(l,i,r);s[r]?(s[r].p(g,o),E(s[r],1)):(s[r]=Q(g),s[r].c(),E(s[r],1),s[r].m(e,null))}for($(),r=i.length;r<s.length;r+=1)h(r);ee()}},i(l){if(!t){for(let o=0;o<i.length;o+=1)E(s[o]);t=!0}},o(l){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)q(s[o]);t=!1},d(l){l&&D(e),te(s,l),n[6](null)}}}let R=6;function he(n){for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n}function ue(n,e,t){const i=K();let{chapter:s}=e,h=[],l=[],o=[],r=[],g,_=[],d=[];L(()=>{r=new Array(Math.floor(s.length)).fill(""),t(0,h=he(r.concat(s))),t(1,l=new Array(h.length).fill(!0)),t(2,o=new Array(h.length).fill(!0)),[...o]});const m=(f,v)=>{if(f.size!==v.size)return!1;for(var u of f)if(!v.has(u))return!1;return!0},p=f=>{o.filter(B=>B==!0).length==o.length&&t(2,o=new Array(h.length).fill(!1));let u=f.detail.id-1,y=u-1,a=u+1,U=u-R,W=u+R,X=[u,y,a,U,W];t(2,o[u]=!0,o),_.push(u),_=Array.from(new Set(_)),m(new Set(_),new Set(d))&&(console.log(_),console.log(d),i("finished")),d=[..._],l.forEach((B,I,C)=>{X.includes(I)?C[I]=!1:C[I]=!0}),t(1,l[u]=!1,l)};function c(f){M[f?"unshift":"push"](()=>{g=f,t(3,g)})}return n.$$set=f=>{"chapter"in f&&t(5,s=f.chapter)},[h,l,o,g,p,s,c]}class _e extends F{constructor(e){super(),G(this,e,ue,ce,H,{chapter:5})}}export{_e as P};
