import{S as F,i as G,s as H,l as D,r as I,a as N,m as A,n as S,u as V,h as z,c as O,p as b,O as w,b as J,M as k,P as Z,v as T,E as Y,N as x,Q as K,o as L,R as y,f as M,g as $,d as ee,t as q,T as te,w as ne,x as le,y as se,B as oe}from"./index-bf21310b.js";import{r as re}from"./index-388cf647.js";const ie=[{back:"#8d5524",front:"#ffdbac"},{back:"#c68642",front:"#ffdbac"},{back:"#e0ac69",front:"#8d5524"},{back:"#f1c27d",front:"#8d5524"},{back:"#ffdbac",front:"#8d5524"}],fe=re(ie);function ce(n){let e,t,o,s,h,l,i,r,_,g,u,m,p;return{c(){e=D("div"),t=D("div"),o=I(n[0]),h=N(),l=D("div"),i=I(n[6]),_=N(),g=I(n[0]),this.h()},l(a){e=A(a,"DIV",{class:!0});var f=S(e);t=A(f,"DIV",{class:!0});var v=S(t);o=V(v,n[0]),v.forEach(z),h=O(f),l=A(f,"DIV",{class:!0});var d=S(l);i=V(d,n[6]),d.forEach(z),_=O(f),g=V(f,n[0]),f.forEach(z),this.h()},h(){b(t,"class",s=w(n[2]?"line flex hidden":"line flex")+" svelte-1lkizpv"),b(l,"class",r=w(n[2]?"word flex":"word flex hidden")+" svelte-1lkizpv"),b(e,"class",u=w(n[1]?"container flex hidden":n[0]==""?"container flex colored":"container flex")+" svelte-1lkizpv")},m(a,f){J(a,e,f),k(e,t),k(t,o),n[10](t),k(e,h),k(e,l),k(l,i),n[11](l),k(e,_),k(e,g),n[12](e),m||(p=Z(e,"click",n[7]),m=!0)},p(a,[f]){f&1&&T(o,a[0]),f&4&&s!==(s=w(a[2]?"line flex hidden":"line flex")+" svelte-1lkizpv")&&b(t,"class",s),f&4&&r!==(r=w(a[2]?"word flex":"word flex hidden")+" svelte-1lkizpv")&&b(l,"class",r),f&1&&T(g,a[0]),f&3&&u!==(u=w(a[1]?"container flex hidden":a[0]==""?"container flex colored":"container flex")+" svelte-1lkizpv")&&b(e,"class",u)},i:Y,o:Y,d(a){a&&z(e),n[10](null),n[11](null),n[12](null),m=!1,p()}}}function ae(n,e,t){let o;x(n,fe,c=>t(13,o=c));const s=K();let{line:h,id:l,hidden:i,gridDiv:r}=e,_=h.split(" "),g=_[Math.floor(Math.random()*_.length)],u=!0,m,p,a;const f=()=>{h!=""&&(s("selected",{id:l}),u&&t(2,u=!u))};L(()=>{t(5,a.style.transform=(l-1)%2==0?"skewY(-20deg)":"skewY(20deg)",a),t(5,a.height=m.height,a);const c=o[Math.floor(Math.random()*o.length)];t(5,a.style["background-color"]=c.back,a),u==!0&&(t(3,m.style.color=c.front,m),t(4,p.style.color=c.front,p))});function v(c){y[c?"unshift":"push"](()=>{m=c,t(3,m)})}function d(c){y[c?"unshift":"push"](()=>{p=c,t(4,p)})}function E(c){y[c?"unshift":"push"](()=>{a=c,t(5,a)})}return n.$$set=c=>{"line"in c&&t(0,h=c.line),"id"in c&&t(8,l=c.id),"hidden"in c&&t(1,i=c.hidden),"gridDiv"in c&&t(9,r=c.gridDiv)},[h,i,u,m,p,a,g,f,l,r,v,d,E]}class he extends F{constructor(e){super(),G(this,e,ae,ce,H,{line:0,id:8,hidden:1,gridDiv:9})}}function j(n,e,t){const o=n.slice();return o[13]=e[t],o[15]=t,o}function Q(n){let e,t;return e=new he({props:{hidden:n[1][n[15]]&&!n[2][n[15]],gridDiv:n[3],line:n[13],id:n[15]+1}}),e.$on("selected",n[4]),{c(){ne(e.$$.fragment)},l(o){le(e.$$.fragment,o)},m(o,s){se(e,o,s),t=!0},p(o,s){const h={};s&6&&(h.hidden=o[1][o[15]]&&!o[2][o[15]]),s&8&&(h.gridDiv=o[3]),s&1&&(h.line=o[13]),e.$set(h)},i(o){t||(M(e.$$.fragment,o),t=!0)},o(o){q(e.$$.fragment,o),t=!1},d(o){oe(e,o)}}}function de(n){let e,t,o=n[0],s=[];for(let l=0;l<o.length;l+=1)s[l]=Q(j(n,o,l));const h=l=>q(s[l],1,1,()=>{s[l]=null});return{c(){e=D("section");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=A(l,"SECTION",{class:!0});var i=S(e);for(let r=0;r<s.length;r+=1)s[r].l(i);i.forEach(z),this.h()},h(){b(e,"class","h-full w-full py-14 svelte-1i5nuaz")},m(l,i){J(l,e,i);for(let r=0;r<s.length;r+=1)s[r].m(e,null);n[6](e),t=!0},p(l,[i]){if(i&31){o=l[0];let r;for(r=0;r<o.length;r+=1){const _=j(l,o,r);s[r]?(s[r].p(_,i),M(s[r],1)):(s[r]=Q(_),s[r].c(),M(s[r],1),s[r].m(e,null))}for($(),r=o.length;r<s.length;r+=1)h(r);ee()}},i(l){if(!t){for(let i=0;i<o.length;i+=1)M(s[i]);t=!0}},o(l){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)q(s[i]);t=!1},d(l){l&&z(e),te(s,l),n[6](null)}}}let R=6;function ue(n){for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n}function _e(n,e,t){const o=K();let{chapter:s}=e,h=[],l=[],i=[],r=[],_,g=[],u=[];L(()=>{r=new Array(Math.floor(s.length)).fill(""),t(0,h=ue(r.concat(s))),t(1,l=new Array(h.length).fill(!0)),t(2,i=new Array(h.length).fill(!0)),[...i]});const m=(f,v)=>{if(f.size!==v.size)return!1;for(var d of f)if(!v.has(d))return!1;return!0},p=f=>{i.filter(B=>B==!0).length==i.length&&t(2,i=new Array(h.length).fill(!1));let d=f.detail.id-1,E=d-1,c=d+1,U=d-R,W=d+R,X=[d,E,c,U,W];t(2,i[d]=!0,i),g.push(d),g=Array.from(new Set(g)),m(new Set(g),new Set(u))&&(console.log(g),console.log(u),o("finished")),u=[...g],l.forEach((B,P,C)=>{X.includes(P)?C[P]=!1:C[P]=!0}),t(1,l[d]=!1,l)};function a(f){y[f?"unshift":"push"](()=>{_=f,t(3,_)})}return n.$$set=f=>{"chapter"in f&&t(5,s=f.chapter)},[h,l,i,_,p,s,a]}class pe extends F{constructor(e){super(),G(this,e,_e,de,H,{chapter:5})}}export{pe as P};
